type Query {
  users: [User]!
  login(
    login: String!
    password: String!
  ): User!
  messages(interlocutor: ID!): [Message]!
}

type Mutation {
  signup(
    username: String!
    email: String!
    password: String!
    confirmPassword: String!
  ): User!

  sendMessage(
    to: ID!
    content: String!
  ): Message!
}

type User {
  id: ID!
  username: String!
  metadata: Metadata!
  token: String
  role: Role!
  isDeleted: Boolean!
  deletedAt: DateTime

  firstName: String!
  lastName: String
  birthday: DateTime!
  age: Int!
  email: String!
  phoneNumber: String!
  location: [Location]

  profileImage: URL
  gallery: [URL]

  friends: [User]

  chats: [Chat]
}

type Message {
  id: ID!
  metadata: Metadata!
  
  from: ID!
  to: ID!

  content: String!
}

type Chat {
  id: ID!
  metadata: Metadata!

  participants: [User]!
  messages: [Message]

  moderators: [User]!
  imageUrl: URL
}

type Location {
  country: Country!
  city: String
  # postCode: Int
  # coords:
}

enum Role {
  ADMIN
  USER
}

enum Country {
  BELARUS
  RUSSIA
  UKRAINE
  POLAND
}

type Metadata {
  createdAt: DateTime!
  updatedAt: DateTime
}

scalar DateTime
scalar URL
