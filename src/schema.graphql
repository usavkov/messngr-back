type Query {
  getAllMessages(interlocutor: ID!): [Message]!
  getAllUsers: [User]!
  login(
    login: String!
    password: String!
  ): User!
}

type Mutation {
  signup(
    username: String!
    email: String!
    password: String!
    confirmPassword: String!
  ): User!

  sendMessage(
    to: ID!
    content: String!
  ): Message!
}

type User {
  id: ID!
  username: String!
  token: String
  role: Role!
  createdAt: DateTime!
  updatedAt: DateTime!

  firstName: String!
  lastName: String
  birthday: DateTime!
  age: Int!
  email: String!
  phoneNumber: String!
  location: [Location]

  profileImage: URL
  gallery: [URL]

  friends: [User]

  chats: [Chat]
}

type Message {
  id: ID!
  createdAt: DateTime!
  updatedAt: DateTime!
  
  from: ID!
  to: ID!

  content: String!
}

type Chat {
  id: ID!
  createdAt: DateTime!
  updatedAt: DateTime!

  participants: [User]!
  messages: [Message]

  moderators: [User]!
  imageUrl: URL
}

type Location {
  country: Country!
  city: String
  # postCode: Int
  # coords:
}

enum Role {
  ADMIN
  USER
}

enum Country {
  BELARUS
  RUSSIA
  UKRAINE
  POLAND
}

scalar DateTime
scalar URL
